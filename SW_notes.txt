Output Frequency = Timer Clock Frequency / ((Prescaler + 1) * (Counter Period + 1))

16MHz sys clock. For 400 kHz, prescaler 3, period 9
For 1kHz 
Duty cycle

Pulse = 0.5 * (ARR + 1) = 0.5 * (9 +1)



CubeMX requires global interrupts for USB to enumerate as CDC USB device

test